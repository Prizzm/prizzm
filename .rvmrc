export PROJECT_NAME='prizzm'
export PROJECT_ROOT=`pwd`
export SETUP_DIR=${PROJECT_NAME}_setup
export SETUP_DIR_PATH=`pwd`/$SETUP_DIR
export PATH=./bin:${PATH//:\.\/bin:} 

# Activate shell subtitutions for color output
source $SETUP_DIR_PATH/colors

if [[ -s "$SETUP_DIR/rvm/$PROJECT_NAME.gems" ]] ; then
  rvm gemset import $SETUP_DIR_PATH/rvm/$PROJECT_NAME.gems | grep -v already | grep -v listed | grep -v complete | sed '/^$/d'
fi


# Load the secret API keys into the environment, that we don't want to store in
# source control
if [[ -s "$SETUP_DIR/secret-credentials" ]] ; then
  source $SETUP_DIR_PATH/secret-credentials
  echo "${info} * ${alert} Setting the environment variables listed in: ${info} $SETUP_DIR/secret-credentials"
else
  echo "${info} * ${warn} Error: Make sure to download the ${info} secret-credentials ${warn} file from ${bldylw}Sidney, 
  ${warn} and place it in the ${info} $SETUP_DIR/ ${warn} directory"
fi

# If we have already created a symlink to our custom githooks
if [[ -h ".git/hooks" ]] ; then
  # do nothing.
else
  #remove the git example hooks and create the symlink
  rm -rf .git/hooks
  ln -s ../$SETUP_DIR_PATH/git_hooks .git/hooks
  echo "${info} * ${alert} Activating custom git hooks in: ${info} $SETUP_DIR/git_hooks"
fi


# Load some useful shell aliases
echo "${info} * ${alert} Loading useful shell aliases from: ${info} $SETUP_DIR/aliases"
source $SETUP_DIR_PATH/aliases

# Load other useful shell functions
echo "${info} * ${alert} Loading useful shell functions from: ${info} $SETUP_DIR/functions"
source $SETUP_DIR_PATH/functions

# Allow access to other useful programs
echo "${info} * ${alert} Adding utilities directory to path: ${info} $SETUP_DIR/bin"
export PATH=$PATH:$SETUP_DIR_PATH/bin
